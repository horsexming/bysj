<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bysj.dao.GoodsMapper">
	 <select id="getBgoods" resultType="com.bysj.bean.Bgoods" parameterType="java.lang.Integer">
	 	select* from bgoods where id=#{id}
	 </select>
	 
	 <select id="getShop" resultType="com.bysj.bean.Shop" parameterType="java.lang.Integer">
	 	select* from shop  where Suser in(
	 	select username from user where id=#{id}
	 	)
	 </select>
	 
	 <delete id="deleteShop" parameterType="java.lang.Integer">
	 	delete from shop where id=#{id}
	 </delete>
	 <!-- 商品模糊查询 -->
	 <select id="select_goods_byname" resultType="com.bysj.bean.Bgoods" parameterType="java.lang.String">
	 	select* from bgoods where Gname LIKE CONCAT(CONCAT('%',#{Gname}),'%')
	 </select>
	  <!-- 商品模糊查询 -->
	 <select id="select_byname" resultType="com.bysj.bean.Bgoods" parameterType="java.lang.String">
	 	select* from bgoods where Gname LIKE CONCAT(CONCAT('%',#{Gname}),'%')
	 </select>
	<!--  添加商品到购物小车 -->
	 <insert id="user_addgoods_shop" parameterType="com.bysj.bean.Shop">
	 	insert into shop(Sname,Sprice,Spicture,Suser,Saddress) 
	 	values(#{sname},#{sprice},#{spicture},#{suser},#{saddress})
	 </insert>
	 <!--  下架商品 -->
	 <delete id="out_bgoods" parameterType="java.lang.Integer">
	 	delete from bgoods where id=#{id}
	 </delete>
	  <insert id="add_xgoods" parameterType="com.bysj.bean.Bgoods">
	 	insert into xgoods(Gname,Gprice,Gcategory,Gumber,Gpicture,Business) 
	 	values(#{Gname},#{Gprice},#{Gcategory},#{Gumber},#{Gpicture},#{Business})
	 </insert>
	  <!--下架 商品查询 -->
	 <select id="select_xgoods" resultType="com.bysj.bean.Xgoods" parameterType="java.lang.String">
	 	select* from xgoods where Business =#{username} 
	 </select>
	  <!--  删除下架商品 -->
	 <delete id="delete_xgoods" parameterType="java.lang.Integer">
	 	delete from xgoods where id=#{id}
	 </delete>
</mapper>